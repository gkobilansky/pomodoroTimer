function init(){window.AudioContext=window.AudioContext||window.webkitAudioContext,context=new AudioContext,bufferLoader=new BufferLoader(context,["../sounds/boards.m4a","../sounds/eyes.mp3","../sounds/feel.m4a","../sounds/glory.mp3","../sounds/kia.m4a","../sounds/offended.mp3","../sounds/styles.m4a","../sounds/water.m4a","../sounds/water2.m4a"],finishedLoading),bufferLoader.load()}function BufferLoader(o,e,t){this.context=o,this.urlList=e,this.onload=t,this.bufferList=new Array,this.loadCount=0}function finishedLoading(o){console.log("Yay, loaded")}function playSuccessSound(){var o=bufferLoader.bufferList,e=o[Math.floor(Math.random()*o.length)],t=context.createBufferSource();t.buffer=e,t.connect(context.destination),t.start(0)}window.onload=init;var context,bufferLoader;BufferLoader.prototype.loadBuffer=function(o,e){var t=new XMLHttpRequest;t.open("GET",o,!0),t.responseType="arraybuffer";var n=this;t.onload=function(){n.context.decodeAudioData(t.response,function(t){return t?(n.bufferList[e]=t,void(++n.loadCount==n.urlList.length&&n.onload(n.bufferList))):void alert("error decoding file data: "+o)},function(o){console.error("decodeAudioData error",o)})},t.onerror=function(){alert("BufferLoader: XHR error")},t.send()},BufferLoader.prototype.load=function(){for(var o=0;o<this.urlList.length;++o)this.loadBuffer(this.urlList[o],o)};